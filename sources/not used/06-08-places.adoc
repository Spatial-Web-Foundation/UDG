[[places]]
= Places

EDITOR: This clause on Places is being reviewed and may be deleted


== General

In the Spatial Web, places, not surprisingly have the position of prominance. It
is defined as follows:

____
A __place__ within a domain is a *__unique__*, *__addressable__* state from the
set of all possible states (a *__hyperspace__*) for that domain.
____

The definition of a place may sound rather formal and non-intuitive, but it comes about because of the mandate concerning the role of the spatial web as a way of describing both physical and conceptual spaces.

____
A place is __unique__ within a given domain if there are no other domains which
have the same hyperspace configuration.
____

____
A place is __addressable__ within a given domain if there is a specific set of
keys or identifiers that collectively are also unique within that domain.
____

____
A __hyperspace__ consists of the set of all valid places within a domain.
____

To make this definition clearer, consider a domain that represents a game (an
instance) of _chess_. There are 66 potential _places_ where a given piece can be
located - the 64 squares that make up an 8x8 chessboard, and two cache areas,
one for each player, where pieces that are removed are located.

image::SCD_algebraic_notation.svg[Chess Board, using algebraic notation and the initial starting position for the black pieces]

This link:https://en.wikipedia.org/wiki/Algebraic_notation_%28chess%29[board nomenclature] is considered canonical by link:https://en.wikipedia.org/wiki/FIDE[FIDE, the International Chess Federation].

Each of these places has a distinct identifier that makes up its address, and,
within the scope of a particular game of chess, is considered unique. Note that
the places here are not globally unique - the same position may be used across
multiple games across multiple servers - but within the context of its domain,
it IS unique.

We can also make up notations for each of the two caches - White Cache (WC) and
Black Cache (BC) for pieces that are outside the formal scope of the board but
nonetheless represent the location of a specific piece (agent). If I move the
White Queen (WQ) to e4, then that agent is now located in the place 4 units up
from the White queen's side of the board and five units (e) from the left edge
of the board.

It is worth noting that the hyperspace here is ONLY these particular squares (or
caches). You cannot go to position j17, because such a position, while
plausable, does not exist within the set of all permissible places in the
hyperspace.

It is also worth noting that movement from place to place within a domain does
not have to follow contiguity rules. The knight in particular is very
constrained in where it can go (if the knight is on e4, than it can go to d6,
f6, c3, c5, g3, g5, d2 or f2, but it cannot go to d4 or f4, which are contiguous
to it ), but can also move over other pieces so long as the target place is not
occupied by a piece of their own color.

This is worth reiterating - a spatial web domain is not a perfect reproduction
of the real world. The knight cannot move within its square (place) in this
particular domain (though a representation could move within that square, it's
not something that is considered in the model).

To extend this, you can consider a hexagonal tiling of a space, as may be
considered by a table top war game. The addressing in this space is more
complex, because each hexagon has a particular index (address) that can be
derived from some particular algorithm. The link:https://h3geo.org[H3 System]
system used by Uber is an illustration of such a tiling system on a sphere.

image::st_hexagongrid01.png[Hexagonal tiling]

A place can also be defined in terms of an array of such tiling indices. These
can in turn be hashed in some fashion to am irregular polygon. For instance, in
the game of Risk, you can create such polygon that describe each of the
"countries" in the game. Note that what is important in Risk is the movement
from country (say Kamchatka) to country (Alaska).

image::risk-map.png[The Risk World View]

In this particular map, the specific boundaries or definitions as geometries are
less important than the underlying topology of the map (shown here specifically
for North America)



[[map_north_america]]
.Map of North America as a graph
image::north-america.png[Map of North America as a graph]

// [source,mermaid]
// ----
// graph TD
//
//     subgraph North America
//         Alaska(Alaska)
//         NWTerritory(NW Territory)
//         Greenland(Greenland)
//         Alberta(Alberta)
//         Ontario(Ontario)
//         Quebec(Quebec)
//         WesternUS(Western US)
//         EasternUS(Eastern US)
//         CentralAmerica(Central America)
//
//         Alaska --- NWTerritory
//         Alaska --- Alberta
//         Alaska --- Kamchatka_Asia
//
//         NWTerritory --- Greenland
//         NWTerritory --- Alberta
//         NWTerritory --- Ontario
//
//         Greenland --- Ontario
//         Greenland --- Quebec
//         Greenland --- Iceland_Europe
//
//         Alberta --- Ontario
//         Alberta --- WesternUS
//
//         Ontario --- Quebec
//         Ontario --- EasternUS
//         Ontario --- WesternUS
//
//         WesternUS --- EasternUS
//         WesternUS --- CentralAmerica
//
//         EasternUS --- CentralAmerica
//
//         CentralAmerica --- Venezuela_SA
//     end
//
// ----

This notion of identifying the places within a domain is useful in a number of
ways because it forces thinking in terms of topology, rather than geography.
There are ways of specifying the extents of particular place entities from a
rendering standpoint (typically as sheets of polygons) but in most domains,
dealing with the conceptual representation of a place is often far more
important than dealing with a precise geographical distribution.

In a topological view, places are connected via internal links (roughly
analogous to the hypertext anchors or __&lt;a href="foo"&gt;__ tags) to local
links __&lt;a name="foo"&gt;__. These represent permissible states that a given
agent can move to from a given place, absent any other constraining information.
For instance, from Ontario, one can go to the Eastern or Western United States,
Greenland, Quebec or Alberta, but you cannot go to Central America or Iceland
directly without passing through an intervening country.

Note that such a topological view also illustrates why places are entities. In
this mode, a place is an entity that has some form of interaction. A place can
be a hyperlink to another domain. For instance, one can imaging a scaled up
version of Risk where different regions within the Ontario "country" have their
own version of Risk. The game may be a subgame (a subdomain) of the current
game, but the places involved are different.


.Topology example of Ontario cities
image::topology_ontario_cities.png[Topology example of Ontario cities]

// [source,mermaid]
// ----
// graph TD
//    subgraph Ontario Region Cities
//        Toronto(Toronto)
//      Ottawa(Ottawa)
//        Montreal_QC(Montreal - Quebec)
//        Hamilton(Hamilton)
//        London(London)
//        Windsor(Windsor)
//        Kingston(Kingston)
//        Sudbury(Sudbury)
//        ThunderBay(Thunder Bay)
//        Winnipeg_MB(Winnipeg - Manitoba)
//
//        Toronto --- Hamilton
//        Toronto --- London
//        Toronto --- Kingston
//        Toronto --- Ottawa
//
//        Ottawa --- Montreal_QC
//        Ottawa --- Kingston
//
//        Hamilton --- London
//        Hamilton --- Windsor
//
//        London --- Windsor
//
//        Kingston --- Montreal_QC
//
//        Sudbury --- Toronto
//        Sudbury --- ThunderBay
//
//        ThunderBay --- Winnipeg_MB
//    end
//
//    %% Cross-provincial/state connections for context (optional, based on real-world travel)
//    Toronto --- Buffalo_NY(Buffalo - New York)
//    Windsor --- Detroit_MI(Detroit - Michigan)
//    ThunderBay --- Duluth_MN(Duluth - Minnesota)
// ----


This topological equivalency comes into play whenever there is a need to talk about routes, legs, river segments or similar things. It is intuitive to talk about a graph in which you have airports connected by routes, but the same graph can be inverted to talk about routes connected by airports. For instance, you can talk about the Seattle-San Francisco air route (which we can designate as SEA-SFO) and the San Francisco - Los Angeles route (SFO-LAX). SFO is a connection (a link) for the SEA-SFO and SFO-LAX routes.

In this respect, routes and airports are both domains, and as a consequence, their characteristics can be identified by the relevant properties for their specializization. An entity that is on a route domain, for instance, can talk about a location that's addressable as a distance indicator or time or percentage completed within the context, with a plane on that route able to determine its address relative to the path.